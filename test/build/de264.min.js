/**
 * @license almond 0.3.2 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

!function(t,e){"function"==typeof define&&define.amd?define([],e):t.de264=e()}(this,function(){var t,e,i;return function(n){function r(t,e){return U.call(t,e)}function s(t,e){var i,n,r,s,f,u,o,a,c,h,d,l,p=e&&e.split("/"),g=b.map,v=g&&g["*"]||{};if(t){for(t=t.split("/"),f=t.length-1,b.nodeIdCompat&&_.test(t[f])&&(t[f]=t[f].replace(_,"")),"."===t[0].charAt(0)&&p&&(l=p.slice(0,p.length-1),t=l.concat(t)),c=0;c<t.length;c++)if(d=t[c],"."===d)t.splice(c,1),c-=1;else if(".."===d){if(0===c||1===c&&".."===t[2]||".."===t[c-1])continue;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}if((p||v)&&g){for(i=t.split("/"),c=i.length;c>0;c-=1){if(n=i.slice(0,c).join("/"),p)for(h=p.length;h>0;h-=1)if(r=g[p.slice(0,h).join("/")],r&&(r=r[n])){s=r,u=c;break}if(s)break;!o&&v&&v[n]&&(o=v[n],a=c)}!s&&o&&(s=o,u=a),s&&(i.splice(0,u,s),t=i.join("/"))}return t}function f(t,e){return function(){var i=m.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),l.apply(n,i.concat([t,e]))}}function u(t){return function(e){return s(e,t)}}function o(t){return function(e){v[t]=e}}function a(t){if(r(w,t)){var e=w[t];delete w[t],y[t]=!0,d.apply(n,e)}if(!r(v,t)&&!r(y,t))throw new Error("No "+t);return v[t]}function c(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function h(t){return function(){return b&&b.config&&b.config[t]||{}}}var d,l,p,g,v={},w={},b={},y={},U=Object.prototype.hasOwnProperty,m=[].slice,_=/\.js$/;p=function(t,e){var i,n=c(t),r=n[0];return t=n[1],r&&(r=s(r,e),i=a(r)),r?t=i&&i.normalize?i.normalize(t,u(e)):s(t,e):(t=s(t,e),n=c(t),r=n[0],t=n[1],r&&(i=a(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:i}},g={require:function(t){return f(t)},exports:function(t){var e=v[t];return"undefined"!=typeof e?e:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:h(t)}}},d=function(t,e,i,s){var u,c,h,d,l,b,U=[],m=typeof i;if(s=s||t,"undefined"===m||"function"===m){for(e=!e.length&&i.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if(d=p(e[l],s),c=d.f,"require"===c)U[l]=g.require(t);else if("exports"===c)U[l]=g.exports(t),b=!0;else if("module"===c)u=U[l]=g.module(t);else if(r(v,c)||r(w,c)||r(y,c))U[l]=a(c);else{if(!d.p)throw new Error(t+" missing "+c);d.p.load(d.n,f(s,!0),o(c),{}),U[l]=v[c]}h=i?i.apply(v[t],U):void 0,t&&(u&&u.exports!==n&&u.exports!==v[t]?v[t]=u.exports:h===n&&b||(v[t]=h))}else t&&(v[t]=i)},t=e=l=function(t,e,i,r,s){if("string"==typeof t)return g[t]?g[t](e):a(p(t,e).f);if(!t.splice){if(b=t,b.deps&&l(b.deps,b.callback),!e)return;e.splice?(t=e,e=i,i=null):t=n}return e=e||function(){},"function"==typeof i&&(i=r,r=s),r?d(n,t,e,i):setTimeout(function(){d(n,t,e,i)},4),l},l.config=function(t){return l(t)},t._defined=v,i=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),r(v,t)||r(w,t)||(w[t]=[t,e,i])},i.amd={jQuery:!0}}(),i("../bower_components/almond/almond",function(){}),i("de264/sps",[],function(){function t(t){this.buf=t,this.dv=new DataView(this.buf)}function e(e){var i=new t(e);return i}return t.prototype={parse:function(){this.profile_idc=this.dv.getUint8(0),this.constraint_set0_flag=(this.dv.getUint8(1)&&128)>>7,this.constraint_set1_flag=(this.dv.getUint8(1)&&64)>>6,this.constraint_set2_flag=(this.dv.getUint8(1)&&32)>>5,this.constraint_set3_flag=(this.dv.getUint8(1)&&16)>>4,this.level_idc=this.dv.getUint8(2)}},{create:e}}),i("de264/queuebuffer",[],function(){function t(t){this.buf=t,this.dv=new DataView(this.buf),this.bitindex=0}function e(e){var i=new t(e);return i}return t.prototype={deqBits:function(t){var e=this.bitindex>>3,i=(8-(this.bitindex+t)%8)%8,n=this.bitindex%8,r=0,s=Math.floor((this.bitindex+t-1)/8)-Math.floor(this.bitindex/8)+1;console.log(e,s);for(var f=new Array(s),u=0;s>u;u++)f[u]=this.dv.getUint8(e+u);f[0]&=255>>n;for(var u=0;s>u;u++)r|=f[u]<<(s-u-1<<3)>>i;return this.bitindex+=t,r}},{create:e}}),i("de264/nal",["de264/sps","de264/queuebuffer"],function(t,e){function i(t){this.buf=t,this.dv=new DataView(t)}function n(t){var e=new i(t);return e}return i.prototype={parse:function(){var t=e.create(this.buf);if(this.forbidden_zero_bit=t.deqBits(1),!this.forbidden_zero_bit){this.nal_ref_idc=t.deqBits(2),this.nal_unit_type=t.deqBits(5);for(var i=new ArrayBuffer(this.buf.byteLength),n=new DataView(i),r=0,s=this.buf.byteLength,f=0;s>f;f++)s>f+2&&0===this.dv.getUint8(f)&&0===this.dv.getUint8(f+1)&&3===this.dv.getUint8(f)?(f+=3,r+=2):n.setUint8(r++,this.dv.getUint8(f));switch(this.rbsp=i,this.nal_unit_type){case 7:}}}},{create:n}}),i("de264/ringbuffer",[],function(){function t(t){var i=new e(t);return i}var e=function(t){this.size=t,this.buffer=new ArrayBuffer(t),this.dv=new DataView(this.buffer),this.head=0,this.tail=0};return e.prototype={enq:function(t,e){for(var i=new DataView(t),n=e||t.byteLength,r=0;n>r;r++)this.head==this.size&&(this.head=0),this.dv.setUint8(this.head,i.getUint8(r)),this.head++},deq:function(t,e,i){for(var n=this.tail,r=new DataView(t),s=e||t.byteLength,f=0;s>f;f++)this.tail==this.size&&(this.tail=0),r.setUint8(f,this.dv.getUint8(this.tail)),this.tail++;i&&(this.tail=n)},deqUint8:function(t){var e=new ArrayBuffer(1);this.deq(e,null,t);var i=new DataView(e);return i.getUint16(i,littleEndian)},deqUint16:function(t,e){var i=new ArrayBuffer(2);this.deq(i,null,t);var n=new DataView(i);return n.getUint16(n,e)},deqUint32:function(t,e){var i=new ArrayBuffer(4);this.deq(i,null,t);var n=new DataView(i);return n.getUint32(n,e)},getUint8:function(t){(this.tail+t)%this.size},skip:function(t){this.tail+=t,this.tail%=this.size},used:function(){return(this.head-this.tail+this.size)%this.size},getBuffer:function(){return this.buffer},getDataView:function(){return this.dv}},{create:t}}),i("main",["de264/nal","de264/ringbuffer"],function(t,e){function i(){this.initialized=!1,this.buffer=e.create(8388608)}function n(){var t=new i;return t}return i.prototype={decode:function(){t.extract(this.buffer)},decodeNal:function(e){var i,n=new DataView(e);if(1===n.getUint32(0))i=e.slice(4);else{if(256!==(4294966784&n.getUint32(0)))return;i=e.slice(3)}var r=t.create(i);return r.parse(),r},pushData:function(t){this.buffer.enq(t),this.decode()}},{create:n}}),e("main")});